import{j as e}from"./createLucideIcon.CH-mSxXv.js";import{r as a}from"./index.BR1w_nJd.js";import{F as z}from"./fileUploader.BLbgfAQx.js";import{F as C}from"./FileSaver.min.D-v3scGK.js";import"./i18n.0Kt4fEA7.js";import{u as I}from"./useTranslation.C-NthtKk.js";import{L as k}from"./loader-circle.D30OAAi7.js";import{F as U}from"./file-image.D-1RcZSP.js";import"./_commonjsHelpers.D6-XlEtG.js";import"./index.CeYlJSet.js";import"./utils.fNskMoFt.js";function $(){const{t:r}=I(),[l,x]=a.useState(null),[p,f]=a.useState(null),[c,d]=a.useState(0),[m,u]=a.useState(0),[g,w]=a.useState(!0),[b,v]=a.useState(1),[j,y]=a.useState(!1),h=a.useRef(null),n=a.useRef(null),N=t=>{if(t.length>0){const s=t[0];x(s);const o=URL.createObjectURL(s);f(o);const i=new Image;i.onload=()=>{d(i.width),u(i.height),v(i.width/i.height),n.current=i},i.src=o}},_=t=>{const s=parseInt(t.target.value)||0;d(s),g&&u(Math.round(s/b))},R=t=>{const s=parseInt(t.target.value)||0;u(s),g&&d(Math.round(s*b))},F=()=>{if(!n.current||!h.current)return;y(!0);const t=h.current,s=t.getContext("2d");s&&(t.width=c,t.height=m,s.imageSmoothingEnabled=!0,s.imageSmoothingQuality="high",s.drawImage(n.current,0,0,c,m),t.toBlob(o=>{o&&C.saveAs(o,`resized-${l?.name||"image.png"}`),y(!1)},l?.type||"image/png",.9))},S=()=>{x(null),f(null),n.current=null};return e.jsxs("div",{className:"space-y-8",children:[!l&&e.jsx(z,{onFilesSelected:N,accept:{"image/*":[".png",".jpg",".jpeg",".webp"]},multiple:!1}),l&&p&&e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.jsx("div",{className:"relative rounded-2xl overflow-hidden border border-gray-200 bg-gray-100 flex items-center justify-center min-h-100 shadow-inner",children:e.jsx("img",{src:p,alt:"Preview",className:"max-w-full max-h-150 object-contain shadow-lg"})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-6 rounded-2xl bg-gray-50 border border-gray-200 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:r("tools_ui.image_resizer.options_title")}),e.jsx("button",{onClick:S,className:"text-sm text-gray-500 hover:text-gray-900 font-medium",children:r("tools_ui.image_resizer.change_file")})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:r("tools_ui.image_resizer.width_label")}),e.jsx("input",{type:"number",value:c,onChange:_,className:"w-full bg-white border border-gray-200 rounded-xl px-4 py-3 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all font-mono"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:r("tools_ui.image_resizer.height_label")}),e.jsx("input",{type:"number",value:m,onChange:R,className:"w-full bg-white border border-gray-200 rounded-xl px-4 py-3 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all font-mono"})]}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white rounded-lg border border-gray-200",children:[e.jsx("input",{type:"checkbox",id:"aspect",checked:g,onChange:t=>w(t.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 w-4 h-4"}),e.jsx("label",{htmlFor:"aspect",className:"text-sm font-medium text-gray-700 cursor-pointer select-none",children:r("tools_ui.image_resizer.aspect_ratio")})]})]}),e.jsx("button",{onClick:F,disabled:j,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-xl font-bold transition-all shadow-lg shadow-blue-500/20 flex items-center justify-center gap-2 transform active:scale-95",children:j?e.jsx(k,{className:"animate-spin w-5 h-5"}):r("tools_ui.image_resizer.download_button")})]}),e.jsx("div",{className:"p-4 rounded-xl bg-gray-50 border border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(U,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 truncate",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[r("tools_ui.image_compressor.original_width"),": ",n.current?.width," x ",n.current?.height]})]})]})})]})]}),e.jsx("canvas",{ref:h,className:"hidden"})]})}export{$ as default};
