import{u as e,r as s,j as t,F as a}from"./vendor.Ml7xHclh.js";import{F as r}from"./fileUploader.B1Dwo65Z.js";import"./i18n.BsxyfPkU.js";import{L as l,a0 as i}from"./lucide-icons.CJY1ueNI.js";import"./utils.Ceoo1Swf.js";function n(){const{t:n}=e(),[o,c]=s.useState(null),[d,u]=s.useState(null),[m,g]=s.useState(0),[h,x]=s.useState(0),[p,b]=s.useState(!0),[f,j]=s.useState(1),[y,w]=s.useState(!1),N=s.useRef(null),v=s.useRef(null);return t.jsxs("div",{className:"space-y-8",children:[!o&&t.jsx(r,{onFilesSelected:e=>{if(e.length>0){const s=e[0];c(s);const t=URL.createObjectURL(s);u(t);const a=new Image;a.onload=()=>{g(a.width),x(a.height),j(a.width/a.height),v.current=a},a.src=t}},accept:{"image/*":[".png",".jpg",".jpeg",".webp"]},multiple:!1}),o&&d&&t.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.jsx("div",{className:"relative rounded-2xl overflow-hidden border border-gray-200 bg-gray-100 flex items-center justify-center min-h-100 shadow-inner",children:t.jsx("img",{src:d,alt:"Preview",className:"max-w-full max-h-150 object-contain shadow-lg"})})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"p-6 rounded-2xl bg-gray-50 border border-gray-200 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"font-bold text-gray-900",children:n("tools_ui.image_resizer.options_title")}),t.jsx("button",{onClick:()=>{c(null),u(null),v.current=null},className:"text-sm text-gray-500 hover:text-gray-900 font-medium",children:n("tools_ui.image_resizer.change_file")})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:n("tools_ui.image_resizer.width_label")}),t.jsx("input",{type:"number",value:m,onChange:e=>{const s=parseInt(e.target.value)||0;g(s),p&&x(Math.round(s/f))},className:"w-full bg-white border border-gray-200 rounded-xl px-4 py-3 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all font-mono"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:n("tools_ui.image_resizer.height_label")}),t.jsx("input",{type:"number",value:h,onChange:e=>{const s=parseInt(e.target.value)||0;x(s),p&&g(Math.round(s*f))},className:"w-full bg-white border border-gray-200 rounded-xl px-4 py-3 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all font-mono"})]}),t.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white rounded-lg border border-gray-200",children:[t.jsx("input",{type:"checkbox",id:"aspect",checked:p,onChange:e=>b(e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 w-4 h-4"}),t.jsx("label",{htmlFor:"aspect",className:"text-sm font-medium text-gray-700 cursor-pointer select-none",children:n("tools_ui.image_resizer.aspect_ratio")})]})]}),t.jsx("button",{onClick:()=>{if(!v.current||!N.current)return;w(!0);const e=N.current,s=e.getContext("2d");s&&(e.width=m,e.height=h,s.imageSmoothingEnabled=!0,s.imageSmoothingQuality="high",s.drawImage(v.current,0,0,m,h),e.toBlob(e=>{e&&a.saveAs(e,`resized-${o?.name||"image.png"}`),w(!1)},o?.type||"image/png",.9))},disabled:y,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-xl font-bold transition-all shadow-lg shadow-blue-500/20 flex items-center justify-center gap-2 transform active:scale-95",children:y?t.jsx(l,{className:"animate-spin w-5 h-5"}):n("tools_ui.image_resizer.download_button")})]}),t.jsx("div",{className:"p-4 rounded-xl bg-gray-50 border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(i,{className:"w-5 h-5 text-blue-500"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-medium text-gray-900 truncate",children:o.name}),t.jsxs("p",{className:"text-sm text-gray-500",children:[n("tools_ui.image_compressor.original_width"),": ",v.current?.width," x ",v.current?.height]})]})]})})]})]}),t.jsx("canvas",{ref:N,className:"hidden"})]})}export{n as default};
