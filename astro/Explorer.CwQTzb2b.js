import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as m}from"./index.BR1w_nJd.js";import"./_commonjsHelpers.D6-XlEtG.js";function c({handleInsertNode:l,explorer:r}){const[d,t]=m.useState(!1),[i,n]=m.useState({visible:!1,isFolder:null}),a=(s,u)=>{s.stopPropagation(),t(!0),n({visible:!0,isFolder:u})},o=s=>{s.target.value&&s.key==="Enter"&&(l(r.id,s.target.value,i.isFolder),n({...i,visible:!1}))};return r.isFolder?e.jsxs("div",{className:"mt-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer bg-gray-50 hover:bg-gray-100 p-1 rounded",onClick:()=>t(!d),children:[e.jsxs("span",{children:["ðŸ“ ",r.name]}),e.jsxs("div",{className:"ml-auto flex gap-1",children:[e.jsx("button",{className:"px-2 py-0.5 text-xs bg-blue-100 text-blue-600 rounded hover:bg-blue-200",onClick:s=>a(s,!0),children:"Folder +"}),e.jsx("button",{className:"px-2 py-0.5 text-xs bg-gray-200 text-gray-600 rounded hover:bg-gray-300",onClick:s=>a(s,!1),children:"File +"})]})]}),e.jsxs("div",{className:`pl-6 ${d?"block":"hidden"}`,children:[i.visible&&e.jsxs("div",{className:"flex items-center gap-2 my-1",children:[e.jsx("span",{children:i.isFolder?"ðŸ“":"ðŸ“„"}),e.jsx("input",{type:"text",autoFocus:!0,onKeyDown:o,onBlur:()=>n({...i,visible:!1}),className:"border border-gray-300 rounded px-1 py-0.5 text-sm focus:outline-none focus:border-blue-500"})]}),r.items.map(s=>e.jsx(c,{handleInsertNode:l,explorer:s},s.id))]})]}):e.jsx("div",{className:"flex flex-col mt-2 pl-2 text-sm",children:e.jsxs("span",{className:"flex items-center gap-2",children:["ðŸ“„ ",r.name]})})}const x=()=>{function l(t,i,n,a){if(t.id===i&&t.isFolder)return t.items.unshift({id:new Date().getTime(),name:n,isFolder:a,items:[]}),t;let o=[];return o=t.items.map(s=>l(s,i,n,a)),{...t,items:o}}return{insertNode:l,deleteNode:()=>{},updateNode:()=>{}}},p={id:"1",name:"root",isFolder:!0,items:[{id:"2",name:"public",isFolder:!0,items:[{id:"3",name:"public nested 1",isFolder:!0,items:[{id:"4",name:"index.html",isFolder:!1,items:[]},{id:"5",name:"hello.html",isFolder:!1,items:[]}]},{id:"6",name:"public_nested_file",isFolder:!1,items:[]}]},{id:"7",name:"src",isFolder:!0,items:[{id:"8",name:"App.js",isFolder:!1,items:[]},{id:"9",name:"Index.js",isFolder:!1,items:[]},{id:"10",name:"styles.css",isFolder:!1,items:[]}]},{id:"11",name:"package.json",isFolder:!1,items:[]}]};function g(){const[l,r]=m.useState(p),{insertNode:d}=x(),t=(i,n,a)=>{const o=d(l,i,n,a);r(o)};return e.jsx("div",{className:"w-full",children:e.jsx(c,{handleInsertNode:t,explorer:l})})}export{g as default};
