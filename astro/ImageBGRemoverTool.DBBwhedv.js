import{u as e,r as s,j as t,m as a}from"./vendor.Ml7xHclh.js";import{F as r}from"./fileUploader.B1Dwo65Z.js";import{p as l,L as o,S as i,D as n}from"./lucide-icons.CJY1ueNI.js";import"./utils.Ceoo1Swf.js";function c(){const{t:c}=e(),[d,m]=s.useState(null),[x,g]=s.useState(null),[p,u]=s.useState(!1),[b,h]=s.useState("#ffffff"),[j,f]=s.useState("transparent"),[w,v]=s.useState("");return t.jsx("div",{className:"max-w-5xl mx-auto",children:d?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:t.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:()=>window.location.reload(),className:"text-sm text-gray-600 hover:text-gray-900 font-medium",children:["â† ",c("tools_ui.common.new_image")]}),t.jsx("div",{className:"w-px h-6 bg-gray-200"}),t.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[t.jsx("button",{onClick:()=>f("transparent"),className:"px-4 py-2 rounded text-sm font-semibold transition-all "+("transparent"===j?"bg-white text-blue-600 shadow-sm":"text-gray-600"),children:c("tools_ui.image_bg_remover.transparent")}),t.jsx("button",{onClick:()=>f("color"),className:"px-4 py-2 rounded text-sm font-semibold transition-all "+("color"===j?"bg-white text-purple-600 shadow-sm":"text-gray-600"),children:c("tools_ui.image_bg_remover.color_fill")})]}),"color"===j&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(l,{size:16,className:"text-gray-400"}),t.jsx("input",{type:"color",value:b,onChange:e=>h(e.target.value),className:"w-10 h-10 rounded cursor-pointer border border-gray-200"})]})]}),t.jsx("button",{onClick:async()=>{if(d){u(!0);try{const e=await fetch(d),s=await e.blob(),t=await a(s);if("color"===j){const e=new Image,s=URL.createObjectURL(t);await new Promise(t=>{e.onload=t,e.src=s});const a=document.createElement("canvas");a.width=e.width,a.height=e.height;const r=a.getContext("2d");r&&(r.fillStyle=b,r.fillRect(0,0,a.width,a.height),r.drawImage(e,0,0),a.toBlob(e=>{e&&g(URL.createObjectURL(e))},"image/png")),URL.revokeObjectURL(s)}else g(URL.createObjectURL(t))}catch(e){alert("Failed to remove background. Please try a different image.")}finally{u(!1)}}},disabled:p,className:"bg-linear-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-xl font-bold hover:from-purple-700 hover:to-blue-700 transition-all shadow-lg disabled:opacity-50 flex items-center gap-2",children:p?t.jsxs(t.Fragment,{children:[t.jsx(o,{className:"animate-spin w-5 h-5"}),c("tools_ui.common.processing")]}):t.jsxs(t.Fragment,{children:[t.jsx(i,{size:18}),c("tools_ui.common.remove_bg")]})})]})}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:[t.jsx("div",{className:"bg-gray-50 border-b border-gray-200 p-3 px-4",children:t.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:c("tools_ui.image_bg_remover.original_label")})}),t.jsx("div",{className:"p-6 bg-[url('/checker.png')] bg-repeat flex items-center justify-center min-h-100",children:t.jsx("img",{src:d,alt:"Original",className:"max-w-full max-h-125 object-contain"})})]}),t.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:[t.jsx("div",{className:"bg-linear-to-r from-purple-50 to-blue-50 border-b border-purple-200 p-3 px-4",children:t.jsx("span",{className:"text-xs font-bold text-purple-600 uppercase tracking-wide",children:c("tools_ui.image_bg_remover.processed_label")})}),t.jsx("div",{className:`p-6 ${"transparent"===j?"bg-[url('/checker.png')] bg-repeat":""} flex items-center justify-center min-h-100`,style:"color"===j?{backgroundColor:b}:{},children:x?t.jsx("img",{src:x,alt:"Processed",className:"max-w-full max-h-125 object-contain"}):t.jsxs("div",{className:"text-center text-gray-400",children:[t.jsx(i,{size:48,className:"mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:c("tools_ui.image_bg_remover.empty_state")})]})})]})]}),x&&t.jsx("div",{className:"text-center",children:t.jsxs("button",{onClick:()=>{if(!x)return;const e=document.createElement("a");e.href=x,e.download=`no-bg-${w}`,e.click()},className:"bg-gray-900 text-white px-8 py-4 rounded-xl font-bold hover:bg-black transition-colors shadow-xl flex items-center gap-2 mx-auto",children:[t.jsx(n,{size:20}),c("tools_ui.image_bg_remover.download")]})})]}):t.jsx(r,{onFilesSelected:async e=>{if(e&&e.length>0){const s=e[0];v(s.name);const t=new FileReader;t.onload=()=>{m(t.result),g(null)},t.readAsDataURL(s)}},accept:{"image/*":[".jpg",".jpeg",".png",".webp",".gif"]},multiple:!1,title:c("tools_ui.common.upload_image")})})}export{c as default};
