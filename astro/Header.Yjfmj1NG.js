import{u as e,j as a,A as t,z as s,r as n}from"./vendor.Ml7xHclh.js";import{c as r,a as i}from"./tools.DfZFuoRc.js";import{X as l,J as o,L as c,a as d,W as h,T as u,K as x,N as g,w as m,n as f,O as p,Q as y,V as b}from"./lucide-icons.CJY1ueNI.js";import{u as v}from"./searchAlgo.ZCamyrUQ.js";import"./i18n.BsxyfPkU.js";const w=[{code:"en",label:"English"},{code:"hi",label:"à¤¹à¤¿à¤‚à¤¦à¥€"},{code:"de",label:"Deutsch"},{code:"fr",label:"FranÃ§ais"},{code:"it",label:"Italiano"},{code:"ar",label:"Ø¹Ø±Ø¨ÙŠ"}];function j({isOpen:n,onClose:r}){const{i18n:i}=e();return a.jsx(t,{children:n&&a.jsxs(a.Fragment,{children:[a.jsx("div",{onClick:r,className:"fixed inset-0 z-40 bg-transparent cursor-default"}),a.jsxs(s.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},className:"absolute top-full right-0 mt-2 z-50 bg-white rounded-xl shadow-xl border border-gray-100 p-4 w-48",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2 px-1",children:[a.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Select Language"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:a.jsx(l,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"flex flex-col gap-2",children:w.map(e=>a.jsx("button",{onClick:()=>{return a=e.code,i.changeLanguage(a),void r();var a},className:"w-full py-2 px-4 rounded-full text-sm font-medium transition-all text-left "+(i.language===e.code?"bg-blue-600 text-white shadow-lg shadow-blue-500/30":"bg-white text-gray-700 border border-gray-100 hover:bg-gray-50"),children:e.label},e.code))})]})]})})}const N="alltools",k="offlineModeEnabled";function E(){const[e,t]=n.useState("loading"),[s,r]=n.useState("unknown"),[i,l]=n.useState(null),[g,m]=n.useState(""),[f,p]=n.useState(!1),[y,b]=n.useState(!1),v=n.useRef(!1),w=async()=>{try{t("loading"),l(0);const e=await fetch("/cache-manifest.json");if(!e.ok)throw new Error("Failed to fetch cache manifest");const a=(await e.json()).urls||[],s=await navigator.serviceWorker.getRegistration();if(!s||!s.active)return void t("unavailable");const n=new MessageChannel;n.port1.onmessage=e=>{const a=e.data;"PRECACHE_PROGRESS"===a.type&&(l(a.percent),t("loading")),"PRECACHE_DONE"===a.type&&(l(100),t("ready"),p(!0),b(!1),localStorage.setItem(k,"true")),"PRECACHE_ERROR"===a.type&&(t("unavailable"),l(null))},s.active.postMessage({type:"ENABLE_FULL_OFFLINE",urls:a},[n.port2])}catch(e){t("unavailable"),l(null)}},j=async()=>{if(!v.current){v.current=!0;try{const a="serviceWorker"in navigator&&"caches"in window;if(!a)return t("unavailable"),r("unsupported"),void b(!1);const s=navigator.serviceWorker,n=await s.getRegistration(),i=await async function(){if(!navigator.onLine)return!1;try{return await fetch("https://www.google.com/favicon.ico",{method:"HEAD",cache:"no-cache",mode:"no-cors"}),!0}catch{return!1}}(),{exists:o,name:c}=await async function(){try{const e=(await caches.keys()).find(e=>e.toLowerCase().includes(N));if(!e)return{exists:!1,name:""};const a=await caches.open(e);return{exists:(await a.keys()).length>0,name:e}}catch{return{exists:!1,name:""}}}(),d=await async function(){try{const e=(await caches.keys()).find(e=>e.includes("alltools-precache")&&e.includes("-v")&&!e.includes("-full"));if(!e)return!1;const a=await caches.open(e);return(await a.keys()).length>50}catch{return!1}}();m(c),p(d);const h={isOnline:i,hasSWSupport:a,swRegistered:!!n,swActivated:"activated"===n?.active?.state,cacheExists:o,cacheName:c};r(n?function(e){if(!e)return"unknown";switch(e.state){case"installing":return"installing";case"installed":return"waiting";case"activating":return"activating";case"activated":return"activated";case"redundant":return"redundant";default:return"unknown"}}(n.installing||n.waiting||n.active):"unregistered");const{status:u,showRefresh:x}=(e=h).hasSWSupport&&e.swRegistered?e.isOnline?e.swActivated?{status:e.cacheExists?"ready":"unavailable",showRefresh:!e.cacheExists}:{status:"loading",showRefresh:!1}:{status:e.cacheExists?"offline":"unavailable",showRefresh:!1}:{status:"unavailable",showRefresh:!1};t(u);const g="true"===localStorage.getItem(k);b("ready"===u&&!d&&!g&&i),"ready"===u&&l(d?100:null),g&&!d&&"ready"===u&&i&&setTimeout(()=>w(),1e3)}catch(a){t("unavailable"),r("unknown"),b(!1)}finally{v.current=!1}var e}};n.useEffect(()=>{if(j(),!("serviceWorker"in navigator))return;const e=navigator.serviceWorker,a=e=>{const a=e.data;a?.type&&("PRECACHE_START"===a.type&&(t("loading"),l(0)),"PRECACHE_PROGRESS"===a.type&&(t("loading"),"number"==typeof a.percent&&l(Math.round(Math.max(0,Math.min(100,a.percent))))),"PRECACHE_DONE"===a.type&&(l(100),j()))};return window.addEventListener("online",j),window.addEventListener("offline",j),e.addEventListener("controllerchange",j),e.addEventListener("message",a),e.getRegistration().then(e=>{e&&[e.installing,e.waiting,e.active].forEach(e=>{e?.addEventListener("statechange",j)})}),e.ready.then(j).catch(()=>t("unavailable")),()=>{window.removeEventListener("online",j),window.removeEventListener("offline",j),e.removeEventListener("controllerchange",j),e.removeEventListener("message",a)}},[]);const E=n.useMemo(()=>{const a="undefined"!=typeof navigator&&"serviceWorker"in navigator&&!!navigator.serviceWorker.controller;return["loading"===e?`Preparing offline support${null==i?"":` (${i}%)`}â€¦`:"ready"===e?`Offline ready - ${f?"Full offline mode":"Runtime caching"}.`:"offline"===e?"You are offline.":"Offline unavailable.",`SW: ${s}${a?" (controlling)":" (not controlling yet)"}`,g?`Cache: ${g}`:`Cache: missing (looking for "${N}")`].join("\n")},[e,s,i,g,f]),C="loading"===e?"bg-yellow-50 text-yellow-700 border-yellow-200":"ready"===e?"bg-green-50 text-green-700 border-green-200":"offline"===e?"bg-gray-100 text-gray-600 border-gray-200":"bg-orange-50 text-orange-700 border-orange-200";return"ready"===e&&y?a.jsxs("button",{onClick:w,className:"px-2 py-1 bg-green-600 hover:bg-green-700 text-white rounded-full text-[10px] font-semibold transition-colors flex items-center gap-1.5 border border-green-700",title:"Download all site content for full offline access",children:[a.jsx(o,{className:"w-3 h-3"}),a.jsx("span",{children:"Enable Full Offline"})]}):a.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-full text-[10px] font-medium border transition-colors duration-300 ${C}`,title:E,children:["loading"===e&&a.jsxs(a.Fragment,{children:[a.jsx(c,{className:"w-3 h-3 animate-spin"}),a.jsxs("span",{children:["Caching",null==i?"â€¦":`â€¦ ${i}%`]})]}),"ready"===e&&a.jsxs(a.Fragment,{children:[a.jsx(d,{className:"w-3 h-3"}),a.jsx("span",{children:"Offline Ready"})]}),"offline"===e&&a.jsxs(a.Fragment,{children:[a.jsx(h,{className:"w-3 h-3"}),a.jsx("span",{children:"Offline Mode"})]}),"unavailable"===e&&a.jsxs(a.Fragment,{children:[a.jsx(u,{className:"w-3 h-3"}),a.jsx("span",{children:"Retry Offline Caching"}),a.jsx("span",{title:"Unregister Service Worker and reload to fix cache issues",className:"inline-flex",children:a.jsx(x,{onClick:async()=>{try{if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistration();e&&await e.unregister()}window.location.reload()}catch(e){window.location.reload()}},className:"w-3 h-3 ml-2 cursor-pointer hover:rotate-180 transition-transform duration-300"})})]})]})}function C(){const[o,c]=n.useState(null),[d,h]=n.useState(!1),[u,x]=n.useState(!1),{t:w}=e(),{searchQuery:N,showDropdown:k,setShowDropdown:C,filteredTools:R,searchRef:S,handleSearchChange:L,handleToolClick:$}=v(i),O=r.map(e=>{const a=i.filter(a=>a.category===e.id);return{label:e.name.replace(" Tools",""),id:e.id,href:e.href,featured:a.slice(0,4).map(e=>({id:e.id,name:e.name,icon:e.icon,desc:e.desc,href:e.href,color:e.color||"bg-gray-100 text-gray-600"})),others:a.slice(4).map(e=>({id:e.id,name:e.name,href:e.href}))}});return a.jsxs("header",{className:"sticky top-0 z-50 w-full bg-white border-b border-gray-100 shadow-sm",onMouseLeave:()=>c(null),children:[a.jsx("div",{className:"bg-linear-to-r from-blue-600 to-indigo-600 px-4 py-1.5 text-center",children:a.jsxs("p",{className:"text-[10px] font-medium text-white uppercase tracking-widest flex items-center justify-center gap-2",children:[a.jsx("span",{children:"ðŸš§"}),"App in development: Some features might not work as expected",a.jsx("span",{children:"ðŸš§"})]})}),a.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-12",children:[a.jsxs("a",{href:"/",className:"flex items-center gap-2 group",children:[a.jsx("div",{className:"w-9 h-9 bg-blue-600 rounded-full flex items-center justify-center text-white shadow-sm group-hover:scale-105 transition-transform",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-command",children:a.jsx("path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3"})})}),a.jsxs("div",{className:"flex flex-col leading-none",children:[a.jsx("span",{className:"text-xl font-bold text-gray-900 tracking-tight",children:w("hero.title")}),a.jsx("span",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest pl-0.5",children:"by Sarthak"})]})]}),a.jsx("nav",{className:"hidden lg:flex items-center gap-1",children:O.map(e=>a.jsxs("div",{className:"relative group",onMouseEnter:()=>c(e.id),children:[a.jsxs("button",{className:"flex items-center gap-1 px-3 py-2 text-sm font-medium rounded-md transition-colors "+(o===e.id?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[w(`nav.${e.id}`,{defaultValue:e.label}),a.jsx(g,{className:"w-4 h-4 transition-transform duration-200 "+(o===e.id?"rotate-180":"")})]}),a.jsx(t,{children:o===e.id&&a.jsx(s.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.15},className:"absolute top-full left-0 mt-1 w-120 bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden",children:a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"w-1/2 p-4 border-r border-gray-50 bg-white",children:[a.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3",children:w("tools.featured")}),a.jsx("div",{className:"space-y-1",children:e.featured.map(e=>{const t=e.icon;return a.jsxs("a",{href:e.href,className:"flex items-start gap-3 p-2 rounded-lg hover:bg-gray-50 transition-colors group",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 ${e.color}`,children:a.jsx(t,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-600 transition-colors",children:w(`tools_data.${e.id}.name`,{defaultValue:e.name})}),a.jsx("div",{className:"text-xs text-gray-500",children:w(`tools_data.${e.id}.desc`,{defaultValue:e.desc})})]})]},e.name)})})]}),a.jsxs("div",{className:"w-1/2 p-4 bg-gray-50/50",children:[a.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3",children:w("tools.other",{category:e.label})}),a.jsxs("ul",{className:"space-y-2",children:[e.others?.map(e=>a.jsx("li",{children:a.jsxs("a",{href:e.href,className:"text-sm text-gray-600 hover:text-blue-600 flex items-center gap-2",children:[a.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300"}),w(`tools_data.${e.id}.name`,{defaultValue:e.name})]})},e.name)),a.jsx("li",{children:a.jsxs("a",{href:`/${e.id}-tools`,className:"text-sm font-medium text-blue-600 hover:text-blue-700 mt-2 inline-block",children:[w("tools.see_all",{category:e.label})," â†’"]})})]})]})]})})})]},e.id))})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{ref:S,className:"hidden md:flex relative group",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(m,{className:"h-4 w-4 text-gray-400 group-focus-within:text-blue-500 transition-colors"})}),a.jsx("input",{type:"text","aria-label":"Search tools",placeholder:w("search.placeholder"),value:N,onChange:L,onFocus:()=>N.trim()&&C(!0),className:"block w-64 pl-9 pr-3 py-2 border border-gray-200 rounded-lg leading-5 bg-gray-50 text-gray-900 placeholder-gray-400 focus:outline-none focus:bg-white focus:ring-2 focus:ring-blue-100 focus:border-blue-500 sm:text-sm transition-all"}),k&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-lg shadow-xl border border-gray-200 max-h-96 overflow-y-auto z-50",children:R.length>0?a.jsx("div",{className:"py-2",children:R.slice(0,8).map(e=>a.jsxs("button",{onClick:()=>$(e.href),className:"w-full px-4 py-3 hover:bg-gray-50 flex items-start gap-3 text-left transition-colors",children:[a.jsx("div",{className:`flex-shrink-0 w-10 h-10 flex items-center justify-center ${e.color||"bg-gray-100"}  rounded-lg`,children:a.jsx(e.icon,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900 text-sm",children:e.name}),a.jsx("div",{className:"text-xs text-gray-500 truncate",children:e.desc})]})]},e.id))}):a.jsx("div",{className:"px-4 py-8 text-center",children:a.jsx("p",{className:"text-sm text-gray-500",children:"No tools found"})})})]}),a.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1 hidden md:block"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"hidden lg:block",children:a.jsx(E,{})}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{"aria-label":"Switch Language",onClick:()=>x(!0),className:"flex items-center gap-1 px-2.5 py-1.5 text-gray-600 hover:text-gray-900 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg transition-all",children:[a.jsx(f,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs font-semibold capitalize tracking-wider",children:w("currentLanguage",{defaultValue:"EN"})})]}),a.jsx(j,{isOpen:u,onClose:()=>x(!1)})]}),a.jsxs("a",{href:"/portfolio",className:"hidden md:flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-blue-600 hover:text-blue-700 bg-blue-50 hover:bg-blue-100 rounded-lg transition-all",children:[a.jsx(p,{className:"w-4 h-4"}),a.jsx("span",{children:w("nav.about_me",{defaultValue:"About Me"})})]})]}),a.jsx("button",{className:"lg:hidden p-2 text-gray-600",onClick:()=>h(!d),"aria-label":"Toggle mobile menu",children:d?a.jsx(l,{className:"w-6 h-6"}):a.jsx(y,{className:"w-6 h-6"})})]})]}),a.jsx(t,{children:d&&a.jsx(s.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"lg:hidden border-t border-gray-100 bg-white overflow-hidden",children:a.jsx("div",{className:"p-4 space-y-4",children:a.jsx("nav",{className:"flex flex-col space-y-2",children:O.map(e=>a.jsxs("a",{href:`/${e.id}-tools`,className:"flex items-center justify-between px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",children:[w(`nav.${e.id}`,{defaultValue:e.label}),a.jsx(b,{className:"w-4 h-4 text-gray-400"})]},e.id))})})})})]})}export{C as default};
