import{u as e,r as s,j as o,l as t}from"./vendor.Ml7xHclh.js";import"./i18n.BsxyfPkU.js";import{j as l,A as r,C as n,f as a}from"./lucide-icons.CJY1ueNI.js";function x(){const{t:x}=e(),[i,m]=s.useState(""),[d,c]=s.useState(""),[u,p]=s.useState("xml2json"),[h,j]=s.useState("");return o.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsxs("h1",{className:"text-3xl font-bold text-gray-900 sm:text-4xl mb-4 flex items-center justify-center gap-3",children:[o.jsx(l,{className:"w-10 h-10 text-purple-600"}),"XML ",o.jsx(r,{className:"w-5 h-5 text-gray-400"})," JSON"]}),o.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:x("tools_ui.xml_to_json.description")})]}),o.jsx("div",{className:"flex justify-center mb-8",children:o.jsxs("div",{className:"bg-gray-100 p-1 rounded-lg flex items-center",children:[o.jsx("button",{onClick:()=>p("xml2json"),className:"px-4 py-2 rounded-md text-sm font-medium transition-all "+("xml2json"===u?"bg-white text-purple-600 shadow-sm":"text-gray-500 hover:text-gray-700"),children:x("tools_ui.xml_to_json.mode_xml_json")}),o.jsx("button",{onClick:()=>p("json2xml"),className:"px-4 py-2 rounded-md text-sm font-medium transition-all "+("json2xml"===u?"bg-white text-purple-600 shadow-sm":"text-gray-500 hover:text-gray-700"),children:x("tools_ui.xml_to_json.mode_json_xml")})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden flex flex-col h-full",children:[o.jsxs("div",{className:"bg-gray-50/50 px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[o.jsx("h2",{className:"font-semibold text-gray-800",children:x("xml2json"===u?"tools_ui.xml_to_json.input_xml":"tools_ui.xml_to_json.input_json")}),o.jsx("button",{onClick:()=>{m("xml2json"===u?'<?xml version="1.0" encoding="UTF-8"?>\n<note>\n  <to>Tove</to>\n  <from>Jani</from>\n  <heading>Reminder</heading>\n  <body>Don\'t forget me this weekend!</body>\n</note>':'{\n  "note": {\n    "to": { "_text": "Tove" },\n    "from": { "_text": "Jani" },\n    "heading": { "_text": "Reminder" },\n    "body": { "_text": "Don\'t forget me this weekend!" }\n  }\n}'),c(""),j("")},className:"text-xs font-medium text-purple-600 hover:text-purple-700 bg-purple-50 px-3 py-1.5 rounded-full transition-colors",children:x("tools_ui.common.load_sample")})]}),o.jsx("div",{className:"p-4 grow flex flex-col",children:o.jsx("textarea",{className:"w-full grow p-4 rounded-xl border border-gray-200 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all outline-none resize-none font-mono text-sm bg-gray-50 min-h-100",placeholder:x("xml2json"===u?"tools_ui.xml_to_json.placeholder_xml":"tools_ui.xml_to_json.placeholder_json"),value:i,onChange:e=>m(e.target.value),spellCheck:!1})})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden flex flex-col h-full",children:[o.jsxs("div",{className:"bg-gray-50/50 px-6 py-4 border-b border-gray-100 flex flex-col sm:flex-row items-center justify-between gap-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("button",{onClick:()=>{if(j(""),i.trim())try{if("xml2json"===u){const e=t.xml2json(i,{compact:!0,spaces:2});c(e)}else{const e=t.json2xml(i,{compact:!0,spaces:2,fullTagEmptyElement:!0});c(e)}}catch(e){j(`${x("tools_ui.xml_to_json.error")}: ${e.message}`)}else j(`${x("tools_ui.common.please_enter")} ${"xml2json"===u?"XML":"JSON"}`)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors shadow-sm shadow-purple-600/20",children:[o.jsx(r,{className:"w-4 h-4"})," ",x("tools_ui.xml_to_json.convert")]})}),d&&o.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(d)},className:"flex items-center gap-1.5 text-xs font-medium text-gray-600 hover:text-purple-600 transition-colors",children:[o.jsx(n,{className:"w-3.5 h-3.5"})," ",x("tools_ui.common.copy")]})]}),o.jsx("div",{className:"p-4 grow flex flex-col relative",children:h?o.jsx("div",{className:"w-full h-full min-h-100 flex items-center justify-center bg-red-50 rounded-xl border border-red-100 p-6 text-center",children:o.jsxs("div",{className:"max-w-md",children:[o.jsx(a,{className:"w-8 h-8 text-red-500 mx-auto mb-3"}),o.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:x("tools_ui.xml_to_json.error")}),o.jsx("p",{className:"text-red-600 text-sm font-mono break-all bg-white p-3 rounded-lg border border-red-100 mx-auto inline-block",children:h})]})}):o.jsx("textarea",{readOnly:!0,className:"w-full grow p-4 rounded-xl border border-gray-200 text-gray-800 font-mono text-sm bg-white min-h-100 outline-none resize-none",placeholder:x("tools_ui.xml_to_json.placeholder_output"),value:d})})]})]})]})}export{x as default};
